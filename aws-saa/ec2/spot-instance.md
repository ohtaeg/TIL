# 스팟 인스턴스
- 온디멘드와 비교해서 90% 할인
- 입찰가격이 원가보다 높아지면 terminating되는 타입
- 우리가 정한 최대 가격보다 높아진 경우 AWS에서 2분전에 공지하고 인스턴스를 중지하거나 중단할 수 있다.
- 언제 스팟 인스턴스를 사용하는가?
    1. 배치
    2. 데이터 분석
    3. 실패에 대한 복원
    4. 중요한 작업이나 디비에는 적합하지 않다.

<br>

## 스팟 인스턴스 사용

- 스팟 인스턴스 두가지 요청있다.
    - 일회성
    - 영구 요청
- 일회성
    - 스팟 요청이 완료되는 즉시 인스턴스가 런칭된 후 요청은 사라진다.
- 영구 요청
    - 유효기간동안 인스턴스가 중지되거나 중단되어도 다시 요청하여 실행한다.
    - 다시 요청하지 않도록 `먼저 스팟 요청을 취소` 후 인스턴스를 종료해야한다.

<br>


## 스팟 인스턴스 종류
#### 1. 스팟 플릿(함대)

- 스팟 인스턴스의 집합 혹은 온디맨드 인스턴스 집합
- 우리가 정한 입찰 가격에 충족하는 스팟 용량 풀을 선택하고 플릿에 대한 목표 용량을 충족하는 스팟 인스턴스를 시작
- 스팟 플릿이 정해놓은 예산에 도달하거나 원하는 용량에 도달하면 중지된다.
- 스팟 플릿 전략
    1. 저렴한 가격 : 스팟 집합 가격이 가장 낮은 풀에서 인스턴스를 런칭하여 많은 비용 최적화를 제공하는 전략 (짧은 워크로드에 적절)
    2. 다양한 방법 정의 : 스팟 인스턴스 시작하는 방법을 다양하게 정의, 가용성과 긴 워크로드에 좋다.
    3. 인스턴수 수 기반으로 용량 최적화
    
#### 2. 스팟 블럭
- 스팟 블럭
    - 지정된 기간동안 스팟 인스턴스 회수를 차단하고 중단 없이 지정된 기간(1-6시간) 인스턴스 사용 가능

---

온디맨드 인스턴스는 짧은 워크로드에 적합하며 예측가능한 비용을 제공합니다.

예약 인스턴스는 긴 워크로드에 적합합니다. 1년 또는 3년 동안 인스턴스를 예약할 수 있습니다.

전용 호스트는 규정 준수 요구 사항이 강한 회사나 라이선스 모델이 복잡한 소프트웨어에 적합합니다. 사용 가능한 가장 비싼 EC2 구매 옵션입니다.